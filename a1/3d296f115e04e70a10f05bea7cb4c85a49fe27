r3999 branches/mw-no-slp